{% extends "base.html" %}

{% block title %}{{ staff.get_grade_display }} {{ staff.full_name }} - HRAE{% endblock %}

{% block content %}
<div class="bg-purple-600 text-white py-12">
    <div class="container mx-auto px-4">
        <h1 class="text-4xl font-bold">{{ staff.get_grade_display }} {{ staff.full_name }}</h1>
        <p class="mt-2 text-purple-100">{{ staff.speciality }}</p>
    </div>
</div>

<div class="container mx-auto px-4 py-12">
    <div class="grid md:grid-cols-3 gap-8">
        <div>
            <div class="bg-white p-6 rounded-lg shadow text-center sticky top-4">
                {% if staff.photo %}
                <img src="{{ staff.photo.url }}" alt="{{ staff.full_name }}" class="w-48 h-48 rounded-full mx-auto mb-4 object-cover">
                {% else %}
                <div class="w-48 h-48 rounded-full bg-gray-200 mx-auto mb-4 flex items-center justify-center text-6xl">ğŸ‘¤</div>
                {% endif %}

                <h2 class="text-2xl font-bold mb-2">{{ staff.get_grade_display }} {{ staff.full_name }}</h2>
                <p class="text-gray-600 mb-4">{{ staff.speciality }}</p>

                <div class="text-left space-y-3 mb-6">
                    {% if staff.services.all %}
                    <div>
                        <p class="font-semibold text-sm text-gray-700">Services:</p>
                        {% for service in staff.services.all %}
                        <span class="inline-block bg-gray-100 px-2 py-1 rounded text-sm mr-1 mb-1">{{ service.name }}</span>
                        {% endfor %}
                    </div>
                    {% endif %}

                    {% if staff.languages %}
                    <div>
                        <p class="font-semibold text-sm text-gray-700">ğŸŒ Langues:</p>
                        <p class="text-sm text-gray-600">{{ staff.languages }}</p>
                    </div>
                    {% endif %}

                    {% if staff.email %}
                    <div>
                        <p class="font-semibold text-sm text-gray-700">ğŸ“§ Email:</p>
                        <p class="text-sm text-gray-600">{{ staff.email }}</p>
                    </div>
                    {% endif %}

                    {% if staff.phone %}
                    <div>
                        <p class="font-semibold text-sm text-gray-700">ğŸ“ TÃ©lÃ©phone:</p>
                        <p class="text-sm text-gray-600">{{ staff.phone }}</p>
                    </div>
                    {% endif %}
                </div>

                {% if staff.accepts_appointments %}
                <a href="{% url 'appointment_create' %}" class="block w-full bg-purple-600 text-white text-center py-3 rounded-lg font-bold hover:bg-purple-700">
                    Prendre RDV
                </a>
                {% endif %}
            </div>
        </div>

        <div class="md:col-span-2">
            {% if staff.diplomas %}
            <div class="bg-white p-6 rounded-lg shadow mb-6">
                <h3 class="text-2xl font-bold mb-4">ğŸ“ DiplÃ´mes & Formation</h3>
                <ul class="list-disc list-inside text-gray-600 space-y-2">
                    {% for diploma in staff.diplomas.splitlines %}
                    <li>{{ diploma }}</li>
                    {% endfor %}
                </ul>
            </div>
            {% endif %}

            {% if staff.experience %}
            <div class="bg-white p-6 rounded-lg shadow mb-6">
                <h3 class="text-2xl font-bold mb-4">ğŸ’¼ Parcours Professionnel</h3>
                <div class="text-gray-600">
                    {{ staff.experience|linebreaks }}
                </div>
            </div>
            {% endif %}

            {% if staff.expertise %}
            <div class="bg-white p-6 rounded-lg shadow mb-6">
                <h3 class="text-2xl font-bold mb-4">â­ Domaines d'Expertise</h3>
                <div class="text-gray-600">
                    {{ staff.expertise|linebreaks }}
                </div>
            </div>
            {% endif %}

            {% if staff.consultation_hours %}
            <div class="bg-white p-6 rounded-lg shadow">
                <h3 class="text-2xl font-bold mb-4">â° Horaires de Consultation</h3>
                <div class="text-gray-600">
                    {{ staff.consultation_hours|linebreaks }}
                </div>
                {% if staff.consultation_duration %}
                <p class="text-sm text-gray-500 mt-3">DurÃ©e: {{ staff.consultation_duration }} minutes</p>
                {% endif %}
            </div>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}
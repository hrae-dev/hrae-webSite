{% extends "base.html" %}

{% block title %}Notre Ã‰quipe - HRAE{% endblock %}

{% block content %}
<div class="bg-purple-600 text-white py-12">
    <div class="container mx-auto px-4">
        <h1 class="text-4xl font-bold">Notre Ã‰quipe MÃ©dicale</h1>
        <p class="mt-2 text-purple-100">Des professionnels qualifiÃ©s Ã  votre service</p>
    </div>
</div>

<!-- Filtres -->
<div class="bg-white border-b">
    <div class="container mx-auto px-4 py-6">
        <form method="get" class="flex flex-wrap gap-4">
            <select name="service" class="px-4 py-2 border rounded">
                <option value="">Tous les services</option>
                {% for service in services %}
                <option value="{{ service.id }}">{{ service.name }}</option>
                {% endfor %}
            </select>
            
            <select name="grade" class="px-4 py-2 border rounded">
                <option value="">Tous les grades</option>
                {% for value, label in grades %}
                <option value="{{ value }}">{{ label }}</option>
                {% endfor %}
            </select>
            
            <input type="text" name="search" placeholder="Rechercher..." 
                   class="px-4 py-2 border rounded flex-1">
            
            <button type="submit" class="bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700">
                Rechercher
            </button>
        </form>
    </div>
</div>

<!-- Liste du personnel -->
<div class="container mx-auto px-4 py-12">
    <div class="grid md:grid-cols-3 lg:grid-cols-4 gap-6">
        {% for staff in staff_list %}
        <div class="bg-white rounded-lg shadow hover:shadow-lg transition p-6 text-center">
            {% if staff.photo %}
            <img src="{{ staff.photo.url }}" alt="{{ staff.full_name }}" 
                 class="w-32 h-32 rounded-full mx-auto mb-4 object-cover">
            {% else %}
            <div class="w-32 h-32 rounded-full bg-gray-200 mx-auto mb-4 flex items-center justify-center text-4xl">
                ðŸ‘¤
            </div>
            {% endif %}
            
            <h3 class="font-bold text-lg">{{ staff.get_grade_display }} {{ staff.full_name }}</h3>
            <p class="text-gray-600 mb-2">{{ staff.speciality }}</p>
            
            <div class="text-sm text-gray-500 mb-4">
                {% for service in staff.services.all %}
                <span class="inline-block bg-gray-100 px-2 py-1 rounded mr-1 mb-1">
                    {{ service.name }}
                </span>
                {% endfor %}
            </div>
            
            <a href="{% url 'staff_detail' staff.id %}" 
               class="inline-block bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700">
                Voir profil
            </a>
        </div>
        {% empty %}
        <div class="col-span-4 text-center py-12 text-gray-500">
            Aucun membre trouvÃ©
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}